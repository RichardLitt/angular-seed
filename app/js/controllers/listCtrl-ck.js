var listCtrl=function(e,t,n,r,i,s,o,u){e.spinner=!0;t.$watch("user",function(){if(t.user){e.user=t.user;o(u+e.user.id+"/projects/",e,"remote",{}).then(function(){e.showProject=!0;e.spinner=!1;e.todos=angular.copy(e.remote);var t=n("orderByImportance");e.focus=function(t){e.focused=t};e.unfocus=function(t){e.focused=""};e.detailShow=function(){if(e.focused)return e.focused!==""};e.filterSecId=function(n){var r={};angular.forEach(n,function(e,t){if(e.archive!=0){r[t]=e;r[t].id=t}});e.todos=r;return t(e.todos)};e.filterKey=function(e){var t=new Array;angular.forEach(e,function(e,n){t.push(n)});return t};e.filterTest=function(e){console.log(e);return e};e.saveChange=function(t){var n=new Date;t.end=n;angular.equals(e.remote,e.todos);e.remote=angular.copy(e.todos)};e.addTodo=function(){var t=new Date;Projects.add({text:e.todoText,done:!1,date:t},function(){s(function(){r.path("/")})});e.todoText=""};e.remaining=function(){var t=0;angular.forEach(e.todos,function(e){t+=e.done&&!e.archive?0:1});return t};e.unarchivedCount=function(){var t=0;angular.forEach(e.todos,function(e){e.archive||(t+=1)});return t};e.archive=function(){var t=e.todos;e.todos={};angular.forEach(t,function(t,n){t.done||(e.todos[n]=t)},e.todos);e.remote=angular.copy(e.todos)};e.endTodo=function(e,t,n,r,i){r(i+n,e,"remote",{}).then(function(){e.todo=angular.copy(e.remote);e.todo.done==1;Projects.push(e)})}})}})};